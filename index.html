<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CashBook Pro</title>
    <link rel="stylesheet" href="style.css"> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    <div id="app">
        <!-- Navigation -->
        <nav id="navbar" class="navbar hidden">
            <div class="nav-container">
                <div class="nav-brand">
                    <span class="nav-logo">üíº</span>
                    <span class="nav-title">CashBook Pro</span>
                </div>
                <div class="nav-user">
                    <span id="user-info"></span>
                    <button id="admin-settings-btn" class="btn-secondary hidden">Admin Settings</button>
                    <button id="logout-btn" class="btn-logout">Logout</button>
                </div>
            </div>
        </nav>
        
        <!-- Login Page -->
        <div id="login-page" class="page">
            <div class="auth-container">
                <div class="auth-card">
                    <div class="auth-header">
                        <div class="auth-logo">üíº</div>
                        <h1>CashBook Pro</h1>
                        <p>CashBook Pro Management System</p>
                        <p>By Eng Ahmed abdi asayr</p>
<!--                         <div class="status-badge success">Enhanced MongoDB Simulation Active</div> -->
                    </div>
                    
                    <form id="login-form" class="auth-form">
                        <div class="form-group">
                            <label for="login-username">Username or Email</label>
                            <input type="text" id="login-username" name="username" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="login-password">Password</label>
                            <input type="password" id="login-password" name="password" required>
                        </div>
                        
                        <button type="submit" class="btn-primary">Sign In</button>
                        
                        <div class="auth-links">
                            <a href="#" id="show-forgot-password">Forgot your password?</a>
                            <a href="#" id="show-register" class="btn-secondary">Register as Money Changer</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- Register Page -->
        <div id="register-page" class="page hidden">
            <div class="auth-container">
                <div class="auth-card">
                    <div class="auth-header">
                        <div class="auth-logo">üë§</div>
                        <h1>Register New Account</h1>
                        <p>Join CashBook Pro as a Money Changer</p>
                    </div>
                    
                    <form id="register-form" class="auth-form">
                        <div class="form-group">
                            <label for="business-name">Business Name</label>
                            <input type="text" id="business-name" name="businessName" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="full-name">Full Name</label>
                            <input type="text" id="full-name" name="fullName" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="username">Username</label>
                            <input type="text" id="username" name="username" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="password">Password</label>
                            <input type="password" id="password" name="password" required minlength="6">
                        </div>
                        
                        <div class="form-group">
                            <label for="confirm-password">Confirm Password</label>
                            <input type="password" id="confirm-password" name="confirmPassword" required minlength="6">
                        </div>
                        
                        <button type="submit" class="btn-primary">Create Account</button>
                        
                        <div class="auth-links">
                            <a href="#" id="show-login">‚Üê Back to Sign In</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- Forgot Password Page -->
        <div id="forgot-password-page" class="page hidden">
            <div class="auth-container">
                <div class="auth-card">
                    <div class="auth-header">
                        <div class="auth-logo">üîê</div>
                        <h1>Reset Password</h1>
                        <p>Enter your email to receive a reset code</p>
                    </div>
                    
                    <form id="forgot-password-form" class="auth-form">
                        <div class="form-group">
                            <label for="reset-email">Email Address</label>
                            <input type="email" id="reset-email" name="email" required>
                        </div>
                        
                        <button type="submit" class="btn-primary">Send Reset Code</button>
                        
                        <div class="auth-links">
                            <a href="#" id="back-to-login">‚Üê Back to Sign In</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- Reset Password Page -->
        <div id="reset-password-page" class="page hidden">
            <div class="auth-container">
                <div class="auth-card">
                    <div class="auth-header">
                        <div class="auth-logo">üîë</div>
                        <h1>Enter Reset Code</h1>
                        <p>Check your email for the 6-digit code</p>
                    </div>
                    
                    <form id="reset-password-form" class="auth-form">
                        <div class="form-group">
                            <label for="reset-code">Reset Code</label>
                            <input type="text" id="reset-code" name="code" required maxlength="6">
                        </div>
                        
                        <div class="form-group">
                            <label for="new-password">New Password</label>
                            <input type="password" id="new-password" name="newPassword" required minlength="6">
                        </div>
                        
                        <div class="form-group">
                            <label for="confirm-new-password">Confirm New Password</label>
                            <input type="password" id="confirm-new-password" name="confirmPassword" required minlength="6">
                        </div>
                        
                        <button type="submit" class="btn-primary">Reset Password</button>
                        
                        <div class="auth-links">
                            <a href="#" id="back-to-forgot">‚Üê Back to Email</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- Payment Page -->
        <div id="payment-page" class="page hidden">
            <div class="container">
                <div class="payment-container">
                    <div class="payment-card">
                        <div class="payment-header">
                            <h1>Complete Your Subscription</h1>
                            <p>Activate your CashBook Pro account</p>
                            <span id="account-status-badge" class="status-badge pending">Pending Payment</span>
                        </div>
                        
                        <div class="payment-content">
                            <div class="payment-plan">
                                <h2>Monthly Subscription</h2>
                                <div class="price">$29.99/month</div>
                                <div class="features">
                                    <div class="feature">‚úì Multi-currency support</div>
                                    <div class="feature">‚úì Unlimited transactions</div>
                                    <div class="feature">‚úì Real-time exchange rates</div>
                                    <div class="feature">‚úì PDF/Excel reports</div>
                                    <div class="feature">‚úì 24/7 customer support</div>
                                </div>
                            </div>
                            
                            <div class="payment-instructions">
                                <h3>Payment Instructions</h3>
                                
                                <!-- Payment Number -->
                                <p><strong>Send your payment ONLY to the official payment number below:</strong></p>
                                <div class="whatsapp-number">
                                    <label>Payment Number:</label><br>
                                    <strong>+252 0771351394</strong>
                                    <button class="btn-copy" onclick="app.copyToClipboard('+2520771351394')">Copy</button>
                                </div>
                                
                                <!-- Contact Number -->
                                <p>If you need any assistance after sending the payment, please contact the owner at:</p>
                                <div class="whatsapp-number">
                                    <label>Contact Number:</label><br>
                                    <strong>+252 661142158</strong>
                                    <button class="btn-copy" onclick="app.copyToClipboard('+252661142158')">Copy</button>
                                </div>
                                
                                <!-- Warning -->
                                <div class="warning-box" style="color: red; font-weight: bold; margin-top: 15px;">
                                    ‚ö†Ô∏è IMPORTANT: Do NOT send money to the contact number. Payments are only accepted via the official payment number listed above.
                                </div>
                                <p style="margin-top: 10px;">
                                    Include your email address in the payment message for verification.<br>
                                    Your account will be activated within 24 hours of payment confirmation.
                                </p>
                            </div>
                            
                            <div class="payment-actions">
                                <button id="back-to-dashboard" class="btn-secondary">Return to Dashboard</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Owner Dashboard -->
        <div id="owner-dashboard" class="page hidden">
            <div class="container">
                <div class="dashboard-header">
                    <h1>Owner Dashboard</h1>
                    <p>Manage clients and monitor system performance</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-content">
                            <div class="stat-value" id="total-clients">0</div>
                            <div class="stat-label">Total Clients</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-content">
                            <div class="stat-value" id="active-clients">0</div>
                            <div class="stat-label">Active Clients</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">‚è≥</div>
                        <div class="stat-content">
                            <div class="stat-value" id="pending-payments">0</div>
                            <div class="stat-label">Pending Payments</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-content">
                            <div class="stat-value" id="monthly-revenue">$0</div>
                            <div class="stat-label">Monthly Revenue</div>
                        </div>
                    </div>
                </div>
                
                <div class="clients-section">
                    <div class="section-header">
                        <h2>Client Management</h2>
                        <div class="section-actions">
                            <input type="text" id="search-clients" placeholder="Search clients..." class="search-input">
                            <select id="status-filter" class="filter-select">
                                <option value="">All Status</option>
                                <option value="active">Active</option>
                                <option value="pending">Pending</option>
                                <option value="suspended">Suspended</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Client</th>
                                    <th>Status</th>
                                    <th>Subscription</th>
                                    <th>Last Payment</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="clients-tbody">
                                <!-- Client rows will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Client Dashboard -->
        <div id="client-dashboard" class="page hidden">
            <div class="container">
                <div class="dashboard-header">
                    <h1>CashBook Pro</h1>
                    <p>Manage your CashBook Pro operations</p>
                    <div class="account-info">
                        <span>Owner: <span id="current-owner" class="status-badge active"></span></span>
                        <span>Balance: $<span id="owner-balance">0.00</span></span>
                        <span class="account-status">
                            Status: <span id="account-status" class="status-badge"></span>
                        </span>
                        <span class="account-expiry">
                            Expires: <span id="expiry-date"></span>
                        </span>
                    </div>
                </div>
                
                <!-- Money Exchanger System Panel -->
                <div class="dashboard-card">
                    <div class="card-header">
                        
                        <button id="open-money-exchanger-btn" class="btn-action btn-primary">Open System</button>
                    </div>
                    <div class="card-content">
                        <p>Manage CashBook Pro operations with customers and track transactions.</p>
                        <div class="stats-row">
                            <div class="stat-item">
                                <div class="stat-label">Active Customers</div>
                                <div class="stat-value" id="active-customers-count">0</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">Today's Transactions</div>
                                <div class="stat-value" id="today-transactions-count">0</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">System Balance</div>
                                <div class="stat-value" id="system-balance">$0.00</div>
                            </div>
                        </div>
                        <div class="reports-section">
                            <h3>Generate Reports</h3>
                            <div class="report-controls">
                                <div class="form-group">
                                    <label for="report-start-date">From Date</label>
                                    <input type="date" id="report-start-date">
                                </div>
                                <div class="form-group">
                                    <label for="report-end-date">To Date</label>
                                    <input type="date" id="report-end-date">
                                </div>
                                <div class="form-group">
                                    <button id="generate-pdf-report" class="btn-action btn-primary">Generate PDF</button>
                                    <button id="generate-excel-report" class="btn-action btn-secondary">Generate Excel</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Money Exchanger System Modal -->
        <div id="money-exchanger-modal" class="modal hidden">
            <div class="modal-overlay"></div>
            <div class="modal-content large-modal">
                <div class="modal-header">
                    <h2>Money Exchanger System</h2>
                    <div class="header-info">
                        <span>Owner: <strong id="modal-owner-name"></strong></span>
                        <span>Balance: $<strong id="modal-owner-balance">0.00</strong></span>
                        <span>Status: <strong id="modal-account-status" class="status-badge"></strong></span>
                        <span>Expires: <strong id="modal-expiry-date"></strong></span>
                    </div>
                    <button id="close-money-exchanger" class="modal-close">&times;</button>
                </div>
                
                <div class="modal-body">
                    <!-- Owners Management -->
                    <div class="section-card">
                        <div class="section-header">
                            <h3>Owners Management</h3>
                        </div>
                        <div class="section-content">
                            <div class="form-row">
                                <div class="form-group">
                                    <input type="text" id="new-owner-name" placeholder="Add Owner Name">
                                </div>
                                <div class="form-group">
                                    <button id="add-owner-btn" class="btn-primary">Add Owner</button>
                                </div>
                            </div>
                            <div class="info-box">
                                <!-- <strong>Existing Owners:</strong> <span id="owners-list">None</span> -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Transaction Tabs -->
                    <div class="section-card">
                        <div class="section-header">
                            <h3>Transactions</h3>
                        </div>
                        <div class="tabs">
                            <button class="tab-btn active" data-tab="new-person-tab">New Person</button>
                            <button class="tab-btn" data-tab="old-person-tab">Old Person</button>
                            <button class="tab-btn" data-tab="general-entry-tab">General Entry</button>
                            <button class="tab-btn" data-tab="all-transactions-tab">All Transactions</button>
                        </div>
                        
                        <!-- Tab Contents -->
                        <div class="tab-contents">
                            <!-- New Person Tab -->
                            <div id="new-person-tab" class="tab-content active">
                                <h3>New Person Transaction</h3>
                                <p><strong>Instructions:</strong> Select who is giving money (Payer) and who is receiving money (Payee)</p>
                                
                                <div class="transaction-form">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <h4>Payer (Who is giving money)</h4>
                                            <div class="checkbox-group">
                                                <label><input type="checkbox" id="np-payer-owner-chk"> Owner (Existing)</label>
                                                <label><input type="checkbox" id="np-payer-customer-chk"> Customer (New)</label>
                                            </div>
                                            <div id="np-payer-owner-div" class="conditional-div" style="display:none;">
                                                <select id="np-payer-owner-select">
                                                    <option value="">Select Owner</option>
                                                </select>
                                            </div>
                                            <div id="np-payer-customer-div" class="conditional-div" style="display:none;">
                                                <input type="text" id="np-payer-customer-name" placeholder="New Customer Name (Payer)">
                                            </div>
                                        </div>
                                        
                                        <div class="form-group">
                                            <h4>Payee (Who is receiving money)</h4>
                                            <div class="checkbox-group">
                                                <label><input type="checkbox" id="np-payee-owner-chk"> Owner (Existing)</label>
                                                <label><input type="checkbox" id="np-payee-customer-chk"> Customer (New)</label>
                                            </div>
                                            <div id="np-payee-owner-div" class="conditional-div" style="display:none;">
                                                <select id="np-payee-owner-select">
                                                    <option value="">Select Owner</option>
                                                </select>
                                            </div>
                                            <div id="np-payee-customer-div" class="conditional-div" style="display:none;">
                                                <input type="text" id="np-payee-customer-name" placeholder="New Customer Name (Payee)">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="np-amount">Amount</label>
                                            <input type="number" id="np-amount" placeholder="0.00" step="0.01">
                                        </div>
                                        <div class="form-group">
                                            <label for="np-cash-type">Cash Type</label>
                                            <select id="np-cash-type">
                                                <option value="">Select Cash Type</option>
                                                <option value="USD">USD</option>
                                                <option value="EUR">EUR</option>
                                                <option value="GBP">GBP</option>
                                                <option value="UGX">UGX</option>
                                                <option value="KES">KES</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="np-desc">Description</label>
                                        <input type="text" id="np-desc" placeholder="Transaction description">
                                    </div>
                                    
                                    <button id="add-new-transaction-btn" class="btn-primary">Add Transaction</button>
                                    <div id="np-message" class="message-container"></div>
                                </div>
                            </div>
                            
                            <!-- Old Person Tab -->
                            <div id="old-person-tab" class="tab-content">
                                <h3>Old Person Transaction</h3>
                                <p><strong>Instructions:</strong> Select existing payer and payee, then choose transaction type</p>
                                
                                <div class="transaction-form">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <h4>Payer (Who is giving money)</h4>
                                            <div class="checkbox-group">
                                                <label><input type="checkbox" id="op-payer-owner-chk"> Owner (Existing)</label>
                                                <label><input type="checkbox" id="op-payer-customer-chk"> Customer (Existing)</label>
                                            </div>
                                            <div id="op-payer-owner-div" class="conditional-div" style="display:none;">
                                                <select id="op-payer-owner-select">
                                                    <option value="">Select Owner</option>
                                                </select>
                                            </div>
                                            <div id="op-payer-customer-div" class="conditional-div" style="display:none;">
                                                <input type="text" id="op-payer-customer-name" placeholder="Select Existing Customer" list="payer-customers-list">
                                                <datalist id="payer-customers-list"></datalist>
                                                <div id="op-payer-customer-balance" class="customer-balance" style="display:none;"></div>
                                            </div>
                                        </div>
                                        
                                        <div class="form-group">
                                            <h4>Payee (Who is receiving money)</h4>
                                            <div class="checkbox-group">
                                                <label><input type="checkbox" id="op-payee-owner-chk"> Owner (Existing)</label>
                                                <label><input type="checkbox" id="op-payee-customer-chk"> Customer (Existing)</label>
                                            </div>
                                            <div id="op-payee-owner-div" class="conditional-div" style="display:none;">
                                                <select id="op-payee-owner-select">
                                                    <option value="">Select Owner</option>
                                                </select>
                                            </div>
                                            <div id="op-payee-customer-div" class="conditional-div" style="display:none;">
                                                <input type="text" id="op-payee-customer-name" placeholder="Select Existing Customer" list="payee-customers-list">
                                                <datalist id="payee-customers-list"></datalist>
                                                <div id="op-payee-customer-balance" class="customer-balance" style="display:none;"></div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="op-amount">Amount</label>
                                            <input type="number" id="op-amount" placeholder="0.00" step="0.01">
                                        </div>
                                        <div class="form-group">
                                            <label for="op-cash-type">Cash Type</label>
                                            <select id="op-cash-type">
                                                <option value="">Select Cash Type</option>
                                                <option value="USD">USD</option>
                                                <option value="EUR">EUR</option>
                                                <option value="GBP">GBP</option>
                                                <option value="UGX">UGX</option>
                                                <option value="KES">KES</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="op-desc">Description</label>
                                        <input type="text" id="op-desc" placeholder="Transaction description">
                                    </div>
                                    
                                    <h4>Transaction Type</h4>
                                    <div class="action-buttons">
                                        <button id="op-pr-btn" class="btn-action btn-success">PR (Partial Payment)</button>
                                        <button id="op-full-btn" class="btn-action btn-primary">Full Payment</button>
                                        <button id="op-debt-btn" class="btn-action btn-warning">Debt</button>
                                    </div>
                                    <div id="op-message" class="message-container"></div>
                                </div>
                            </div>
                            
                            <!-- General Entry Tab -->
                            <div id="general-entry-tab" class="tab-content">
                                <h3>General Entry</h3>
                                <div class="transaction-form">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="ge-amount">Amount</label>
                                            <input type="number" id="ge-amount" placeholder="0.00" step="0.01">
                                        </div>
                                        <div class="form-group">
                                            <label for="ge-desc">Description</label>
                                            <input type="text" id="ge-desc" placeholder="Entry description">
                                        </div>
                                    </div>
                                    
                                    <!-- Adjustment Options (hidden by default) -->
                                    <div id="adjustment-options" style="display: none;">
                                        <h4>Adjustment Details</h4>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <h4>Select who is being adjusted</h4>
                                                <div class="checkbox-group">
                                                    <label><input type="checkbox" id="adjustment-owner-chk"> Owner</label>
                                                    <label><input type="checkbox" id="adjustment-customer-chk"> Customer</label>
                                                </div>
                                                <div id="adjustment-owner-div" class="conditional-div" style="display:none;">
                                                    <select id="adjustment-owner-select">
                                                        <option value="">Select Owner</option>
                                                    </select>
                                                </div>
                                                <div id="adjustment-customer-div" class="conditional-div" style="display:none;">
                                                    <select id="adjustment-customer-select">
                                                        <option value="">Select Customer</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="form-row">
                                            <div class="form-group">
                                                <h4>Adjustment Direction</h4>
                                                <div class="radio-group">
                                                    <label><input type="radio" name="adjustment-direction" value="+"> Add money (+)</label>
                                                    <label><input type="radio" name="adjustment-direction" value="-"> Deduct money (-)</label>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- THIS IS THE MISSING SUBMIT BUTTON FOR ADJUSTMENT -->
                                        <div class="action-buttons">
                                            <button id="ge-adjustment-submit-btn" class="btn-action btn-primary">Submit Adjustment</button>
                                        </div>
                                    </div>
                                    
                                    <div class="action-buttons">
                                        <button id="ge-in-btn" class="btn-action btn-success">IN</button>
                                        <button id="ge-out-btn" class="btn-action btn-danger">OUT</button>
                                        <button id="ge-adjustment-btn" class="btn-action btn-warning">Adjustment</button>
                                    </div>
                                    <div id="ge-message" class="message-container"></div>
                                </div>
                            </div>
                            
                            <!-- All Transactions Tab -->
                            <div id="all-transactions-tab" class="tab-content">
                                <div class="table-container">
                                    <table class="data-table">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Type</th>
                                                <th>Payer/From</th>
                                                <th>Receiver/To</th>
                                                <th>Amount</th>
                                                <th>Description</th>
                                                <th>Cash Type</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody id="money-exchanger-transactions-tbody">
                                            <!-- Transactions will be populated here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Reports Section -->
                    <div class="section-card">
                        <div class="section-header">
                            <h3>Reports</h3>
                        </div>
                        <div class="section-content">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="modal-report-start-date">From Date</label>
                                    <input type="date" id="modal-report-start-date">
                                </div>
                                <div class="form-group">
                                    <label for="modal-report-end-date">To Date</label>
                                    <input type="date" id="modal-report-end-date">
                                </div>
                            </div>
                            <div class="action-buttons">
                                <button id="modal-generate-pdf-report" class="btn-action btn-primary">Generate PDF</button>
                                <button id="modal-generate-excel-report" class="btn-action btn-secondary">Generate Excel</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Edit Transaction Modal -->
        <div id="edit-transaction-modal" class="modal hidden">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Edit Transaction</h2>
                    <button id="close-edit-transaction" class="modal-close">&times;</button>
                </div>
                
                <form id="edit-transaction-form" class="modal-form">
                    <input type="hidden" id="edit-transaction-id">
                    <div class="form-group">
                        <label for="edit-transaction-date">Date</label>
                        <input type="text" id="edit-transaction-date" readonly>
                    </div>
                    <div class="form-group">
                        <label for="edit-transaction-type">Type</label>
                        <input type="text" id="edit-transaction-type" readonly>
                    </div>
                    <div class="form-group">
                        <label for="edit-transaction-payer">Payer</label>
                        <input type="text" id="edit-transaction-payer" readonly>
                    </div>
                    <div class="form-group">
                        <label for="edit-transaction-receiver">Receiver</label>
                        <input type="text" id="edit-transaction-receiver" readonly>
                    </div>
                    <div class="form-group">
                        <label for="edit-transaction-amount">Amount</label>
                        <input type="number" id="edit-transaction-amount" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-transaction-description">Description</label>
                        <input type="text" id="edit-transaction-description" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-transaction-cash-type">Cash Type</label>
                        <select id="edit-transaction-cash-type" required>
                            <option value="USD">USD</option>
                            <option value="SOS">SOS</option>
                            <option value="EUR">EUR</option>
                            <option value="GBP">GBP</option>
                            <option value="UGX">UGX</option>
                            <option value="KES">KES</option>
                        </select>
                    </div>
                    <div class="modal-actions">
                        <button type="button" id="cancel-edit-transaction" class="btn-secondary">Cancel</button>
                        <button type="submit" class="btn-primary">Update Transaction</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Admin Settings Modal -->
        <div id="admin-settings-modal" class="modal hidden">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Admin Settings</h2>
                    <button id="close-admin-settings" class="modal-close">&times;</button>
                </div>
                
                <form id="admin-settings-form" class="modal-form">
                    <div class="form-group">
                        <label for="admin-username">Username</label>
                        <input type="text" id="admin-username" name="username" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="admin-email">Email</label>
                        <input type="email" id="admin-email" name="email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="admin-current-password">Current Password</label>
                        <input type="password" id="admin-current-password" name="currentPassword" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="admin-new-password">New Password (optional)</label>
                        <input type="password" id="admin-new-password" name="newPassword">
                    </div>
                    
                    <div class="form-group">
                        <label for="admin-confirm-password">Confirm New Password</label>
                        <input type="password" id="admin-confirm-password" name="confirmPassword">
                    </div>
                    
                    <div class="modal-actions">
                        <button type="button" id="cancel-admin-settings" class="btn-secondary">Cancel</button>
                        <button type="submit" class="btn-primary">Update Settings</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay hidden">
            <div class="loading-spinner">
                <div class="spinner"></div>
                <div class="loading-text">Processing...</div>
            </div>
        </div>
        
        <!-- Toast Container -->
        <div id="toast-container" class="toast-container"></div>
    </div>
    
    <script src="app.js"></script>
</body>
</html>
